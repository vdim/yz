# Copyright 2011 Vyacheslav Dimitrov, Petrozavods State University.
#
# Results of YZ language benchmark.
# Storage is memory EntityManager (see test/ru/petrsu/nest/yz/benchmark/bd-utils.clj
# and test/ru/petrsu/nest/yz/queries/core.clj). 
# Storage has 10000 elements. The MOM is MOM from file test-resources/nest.mom.
# Time measures in msecs. Query is executed 1e3 times.
#
# First line is query by Nest model. 
# Second line is result of parsing (result of ru.petrsu.nest.yz.parsing/parse function).
# Third line is result of parsing+quering (result of ru.petrsu.nest.yz.core/pquery function).
#
# Notes:
# 1. I think first result we can ignore and start monitoring with second.
# 2. First improving performance happens after refactoring find-class function (see forth result).
# 3. For fifth result see last queries because of getById method are implemented.
#

;building
Parsing: 2647.120965 7029.25291 6373.86411 1424.287032 1266.134178
Quering: 3032.679877 6555.637534 6468.744346 1299.216602 1326.151321

;room
Parsing: 4834.714969 2401.813748 2247.75615 1081.762375 1083.503097
Quering: 5707.978175 2462.426498 2321.592907 1170.655535 1177.821544

;building (room)
Parsing: 8730.64307 10955.158531 10296.636676 3967.177105 4043.854749
Quering: 9107.937499 11970.276099 10514.622253 4024.653977 4073.197039

;room (building)
Parsing: 8746.732539 10563.428476 10315.527063 3924.916136 3974.18414
Quering: 8849.616599 10445.909587 10493.336581 4030.482653 4061.390776

;building (li)
Parsing: 9546.553418 12341.328675 12346.100496 3663.607142 3739.764065
Quering: 9666.555295 12467.29835 12509.787839 3766.271355 3802.249124

;device (building)
Parsing: 10046.28969 14379.358939 14446.13979 3850.090954 3904.295349
Quering: 12779.982306 14640.030401 14562.369954 3951.195735 3992.164645

;device (room (floor (building)))
Parsing: 22690.022237 26280.253856 25784.233701 9291.040714 9385.86396
Quering: 22816.392547 28134.531942 25951.485442 9458.193838 9548.678271

;floor#(number = 1)
Parsing: 14768.195322 16653.425678 16002.802591 5952.340857 5749.789636
Quering: 18290.398733 20598.506123 18666.078409 8375.695893 8103.303104

;floor#(number = 1) (room#(number = "215"))
Parsing: 31778.09157 31445.349458 30332.825642 13153.050786 13287.232946
Quering: 35355.965181 33406.722765 33346.522905 15948.154848 16431.246273

;device#(forwarding = true)
Parsing: 16834.743483 17873.17603 16935.05094 5908.141647 5973.858122
Quering: 19750.478827 21410.690021 20064.248412 8466.368618 8483.23641

;device#(network.device.id = 25 and forwarding = true)
Parsing: 38411.670873 38439.886196 37999.723987 11362.062877 11530.395774
Quering: 40565.790502 42957.264945 41272.422689 14819.027237 14815.442972

;device (room (building#(name="MB")))
Parsing: 26821.122454 28526.800902 28359.116697 10890.432689 11030.300788
Quering: 26964.95643 28804.578179 28571.982072 11040.689262 11183.390407

;device (room#(number="200") (building#(name="MB")))
Parsing: 37140.58774 40909.475347 38453.248235 15415.069905 15619.553778
Quering: 37154.683961 40804.968732 38662.273176 15623.776106 15906.315162

;device#(id=25) (room#(number="200") (building#(name="MB")))
Parsing: 48723.288488 49883.715905 49652.040037 19571.160459 19775.377823
Quering: 49905.094057 53770.933405 52419.221546 22315.848607 19945.497252

