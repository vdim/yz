# Copyright 2011 Vyacheslav Dimitrov, Petrozavods State University.
#
# Results of YZ language benchmark.
# Storage is memory EntityManager (see test/ru/petrsu/nest/yz/benchmark/bd-utils.clj
# and test/ru/petrsu/nest/yz/queries/core.clj). 
# Storage has 10000 elements. The MOM is MOM from file test-resources/nest.mom.
# Time measures in msecs. Query is executed 1e3 times.
#
# First line is query by Nest model. 
# Second line is result of parsing (result of ru.petrsu.nest.yz.parsing/parse function).
# Third line is result of parsing+quering (result of ru.petrsu.nest.yz.core/pquery function).
#
# Notes:
# 1. I think first result we can ignore and start monitoring with second.
# 2. First improving performance happens after refactoring find-class function (see forth result).
# 3. For fifth result see last queries because of getById method are implemented.
# 4. All results of quring was wrong because of creating element manager was wrong.
#

;building
Parsing: 2647.120965 7029.25291 6373.86411 1424.287032 1266.134178 963.182487 966.741943 1100.839976 1087.915264 1280.491435 822.90844 871.525825
Quering: 3032.679877 6555.637534 6468.744346 1299.216602 1326.151321 40069.66349 42477.487802 37386.508972 41084.917093 39646.872314 39434.09136 40566.327869

;room
Parsing: 4834.714969 2401.813748 2247.75615 1081.762375 1083.503097 520.752176 541.329225 599.405614 581.403584 657.40863 357.548034 364.252744
Quering: 5707.978175 2462.426498 2321.592907 1170.655535 1177.821544 45545.342271 48151.653892 42674.247007 47788.053069 44172.463059 60880.735806 60886.796003

;building (room)
Parsing: 8730.64307 10955.158531 10296.636676 3967.177105 4043.854749 1460.865312 1561.378749 1631.981493 1686.280467 1827.374931 1007.140916 1028.771834
Quering: 9107.937499 11970.276099 10514.622253 4024.653977 4073.197039 51688.028772 54218.537886 50614.129276 53106.336492 49349.738387 65559.501983 64904.691765

;room (building)
Parsing: 8746.732539 10563.428476 10315.527063 3924.916136 3974.18414 1349.950684 1417.117794 1579.442871 1496.42077 1707.46189 961.822629 942.511191
Quering: 8849.616599 10445.909587 10493.336581 4030.482653 4061.390776 73923.371716 74034.607087 70653.751042 72564.965608 68881.737824 87279.309218 86203.088244

;building (li)
Parsing: 9546.553418 12341.328675 12346.100496 3663.607142 3739.764065 1241.499526 1305.342409 1424.152981 1399.031802 1617.177595 977.245935 884.932714
Quering: 9666.555295 12467.29835 12509.787839 3766.271355 3802.249124 175690.770332 175063.049804 175422.668208 181335.789622 176968.710369 780749.728758 692627.20559

;device (building)
Parsing: 10046.28969 14379.358939 14446.13979 3850.090954 3904.295349 1285.202307 1360.730262 1499.290757 1471.160326 1586.208453 931.365102 925.550564
Quering: 12779.982306 14640.030401 14562.369954 3951.195735 3992.164645 353337.494598 351198.030541 357671.968586 366723.058583 359589.352002 896122.596221 817651.213299

;device (room (floor (building)))
Parsing: 22690.022237 26280.253856 25784.233701 9291.040714 9385.86396 3134.864025 3347.111277 3593.783605 3464.579629 3710.044104 2180.730361 2201.264025
Quering: 22816.392547 28134.531942 25951.485442 9458.193838 9548.678271 467026.165455 470162.33112 478138.071007 489275.214788 481286.028219 1013470.272784 918037.810813

;floor#(number = 1)
Parsing: 14768.195322 16653.425678 16002.802591 5952.340857 5749.789636 2299.049003 2447.363874 2498.953854 2453.100863 2397.883163 1305.758252 1320.374512
Quering: 18290.398733 20598.506123 18666.078409 8375.695893 8103.303104 44125.754788 46576.783681 43181.871531 44942.827422 43953.575904 40045.463051 41108.980878

;floor#(number = 1) (room#(number = "215"))
Parsing: 31778.09157 31445.349458 30332.825642 13153.050786 13287.232946 4752.022882 5096.579313 5304.718975 5047.558853 4835.343447 2587.826522 2526.593789
Quering: 35355.965181 33406.722765 33346.522905 15948.154848 16431.246273 46779.675968 48996.33714 45985.12828 47821.130511 46050.337384 41866.559007 42162.346256

;device#(forwarding = true)
Parsing: 16834.743483 17873.17603 16935.05094 5908.141647 5973.858122 2029.825649 2159.41084 2236.655198 2174.037971 2208.609622 1182.79832 1138.062614
Quering: 19750.478827 21410.690021 20064.248412 8466.368618 8483.23641 104807.615672 108223.816988 104703.645887 107157.863608 106069.985321 104237.879967 103263.455889

;device#(network.device.id = 25 and forwarding = true)
Parsing: 38411.670873 38439.886196 37999.723987 11362.062877 11530.395774 3990.471196 4197.981555 4570.651025 4259.608617 4166.727774 2156.904352 2154.389125
Quering: 40565.790502 42957.264945 41272.422689 14819.027237 14815.442972 107901.26005 111142.400411 107789.979694 110451.450392 112232.190547 340841.991347 336600.846972

;device (room (building#(name="MB")))
Parsing: 26821.122454 28526.800902 28359.116697 10890.432689 11030.300788 3649.721554 3886.452779 4165.757233 3984.220363 4106.184159 2083.048758 2083.999366
Quering: 26964.95643 28804.578179 28571.982072 11040.689262 11183.390407 4641797.739381 4648271.196315 4552665.84923 4603727.562213 5326693.560574 1040000.025127 954295.468247

;device (room#(number="200") (building#(name="MB")))
Parsing: 37140.58774 40909.475347 38453.248235 15415.069905 15619.553778 5174.31909 5694.363104 5614.318203 6090.644676 5696.605131 2909.098025 3661.615709
Quering: 37154.683961 40804.968732 38662.273176 15623.776106 15906.315162 4441894.058024 4480251.724791 4413401.632869 4442820.921708 5197252.18605 883165.507778 785277.639398

;device#(id=25) (room#(number="200") (building#(name="MB")))
Parsing: 48723.288488 49883.715905 49652.040037 19571.160459 19775.377823 6737.430925 6855.410237 7879.927391 7150.513699 7071.263219 3694.791417 3686.842485
Quering: 49905.094057 53770.933405 52419.221546 22315.848607 19945.497252 6496.364772 6851.082491 108556.196674 105787.227154 109611.435101 102382.665879 104810.989239

